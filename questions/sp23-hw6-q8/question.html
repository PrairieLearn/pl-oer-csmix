<pl-question-panel>
  <h4>Database Description</h4>
  <p>
    Given a Graph Database with four kinds of nodes -- <code>Person</code>, <code>Restaurant</code>,
    <code>Cuisine</code> and <code>City</code>: <br>
  </p>
  <pl-figure file-name="sp21-hw3-fig.png" directory="clientFilesCourse" width="750px"></pl-figure>
  <h5>Nodes:</h5>
  <b>Person Node</b>: each Person has their unique id (<code>person_id</code>), name (<code>person_name</code>) and
  birth year (<code>birth_year</code>).<br>
  <b>Restaurant Node</b>: each Restaurant has a unique id (<code>restaurant_id</code>), name
  (<code>restaurant_name</code>), year established (<code>established_year</code>) and
  ratings (<code>ratings</code>).<br>
  <b>Cuisine Node</b>: each Cuisine has a unique id (<code>cuisine_id</code>) and name (<code>cuisine_name</code>).<br>
  <b>City Node</b>: each City has a unique id (<code>city_id</code>) and name (<code>city_name</code>).<br><br>
  <h5>Relationships:</h5>

  <ul>
    <li>The Person and Restaurant nodes have <code>(:Person)-[:LIKED]->(:Restaurant)</code> type of relationship. A
      Person may like many restaurants.</li>
    <li>A Person may also have a friend relationship with another Person:
      <code>(:Person)-[:FRIENDS_WITH]->(:Person)</code>. A person may have many friends.<br>
    </li>
    <li>The Restaurant and Cuisine nodes have <code>(:Restaurant)-[:SERVES]->(:Cuisine)</code> type of relationship. A
      Restaurant may serve more than one cuisine.<br></li>
    <li>The Restaurant and City nodes have <code>(:Restaurant)-[:LOCATED_IN]->(:City)</code> type of relationship. A
      Restaurant may be located in more than one city.<br></li>
    <li>The Person and City nodes have <code>(:Person)-[:LIVES_IN]->(:City)</code> type of relationship. A person may
      live in more that one city.</li>
  </ul>




  <h4>Question Description</h4>
  <p>
    Write a single cypher query to help the Joe's Beard Award researchers publish a restaurant list. The researchers
    give "bigStar" awards to restaurants that has a rating more than 6 (exclusive.)
    <br><br>
    They focus on the <code>5</code> cities with the smallest variety of distinct cuisines offered by all the restaurants 
    within these cities. For each city, return the name of the city, the count of its distinct cuisines, a list of the 
    names of "bigStar" award restaurants in that city, and the number "bigStar" restaurants in that city. In case of a tie 
    in the number of distinct cuisines, use the city name as a tie-breaker (alphabetical order). Make sure to order the final 
    results by the count of distinct cuisines and the city name both in ascending order.
    <br><br>
  </p>
  <pl-file-editor file-name="query.cypher" ace-mode="ace/mode/neo4j"></pl-file-editor>
  
    <br> 
  <div class="alert alert-primary" role="alert">
    <strong>Important Notes -- Cite your sources:</strong>
    <br>
    <p>Plagiarism is a serious offense that undermines academic integrity. Please remember the following:</p>
    <ul>
        <li>Citing external sources is permissible only if these resources were used as a reference. These sources include but are not limited to links, search engine queries, or other intelligent tools.</li>
        <li>A general rule of thumb: You must write your own solution and document any sources you used to develop your solutions. The submitted code cannot come from external sources you did not write or come up with entirely.</li>
        <li>If you use any external sources, be sure to properly explain how you use them and cite them.</li>
        <li>Simply typing down a question and getting the answer from an external source without proper citation is considered plagiarism.</li>
        <li>We will be using various tools, including prior semester records and plagiarism detection software, to verify patterns of solutions that may be suspiciously similar to external sources.</li>
        <li>If you did not consult external sources, please type: I declear that I did not consult external resources.</li>
    </ul>
    <br>
    <pl-file-editor file-name="sources.txt" min-lines=3></pl-file-editor>
  </div>
  

</pl-question-panel>

<pl-submission-panel>
  <pl-file-preview></pl-file-preview>
  <pl-external-grader-results></pl-external-grader-results>
</pl-submission-panel>